<!-- header inc/header.html -->
@@include('inc/header.html')
<!-- /header -->

<link href="./bootstrap/dist/css/course.css" rel="stylesheet">

<style>
#dataTables-course_filter,
#dataTables-course_length{ display:none}
#dataTables-course tr td:last-child{ white-space:nowrap;}
</style>

</head>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">

            <div class="navbar-inner">

            <!-- top inc/top.html -->
            @@include('inc/top.html')
            <!-- /top -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">

                <!-- nav inc/nav.html -->
                @@include('inc/nav.html')
                <!-- /nav -->

                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->

            </div>
            
        </nav>

        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="page-wrapper-inner">
            <div class="row">
                <div class="col-xs-12">
                    <h1 class="page-header tx_yh">课程库</h1>
                </div>
                <!-- /.col-xs-12 -->
            </div>
            <!-- /.row -->
            <div class="panel panel-default">
            <div class="panel-body">
            <form role="form" action="">
                <div class="form-inline">
                    <div class="row">
                        <div class="col-xs-12 tx_r">
                            <div class="form-group">
                                <select name="courseTime" id="data-select-time" class="form-control">
                                    <option value="">添加时间</option>
                                    <option value="week">本周</option>
                                </select>
                                <select name="courseCate" id="data-select-cate" class="form-control">
                                    <option value="">全部课程类型</option>
                                    <option value="视频">视频</option>
                                </select>
                                <select name="courseCate" id="data-select-status" class="form-control">
                                    <option value="">全部课程状态</option>
                                    <option value="未发布">未发布</option>
                                    <option value="已发布">已发布</option>
                                </select>
                                <input id="dt-sch-name" type="text" placeholder="关键字" class="form-control"/>
                            </div>
                            <button id="dt-sch-btn" type="button" class="btn btn-default">查找</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-course">
                                    <thead>
                                        <tr>
                                            <th class="data-select-name">名称<span class="brand-warning">*</span></th>
                                            <th class="data-select-author">作者<span class="brand-warning">*</span></th>
                                            <th class="data-select-cate">类别</th>
                                            <th class="data-select-time">添加时间</th>
                                            <th class="data-select-group">课程标签</th>
                                            <th class="data-select-account">操作帐号</th>
                                            <th class="data-select-status">操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><a href="###" data-toggle="modal" data-target="#course-detail-preview">课程名称</a></td>
                                            <td>张三</td>
                                            <td>视频</td>
                                            <td>2015-1-1 23:00:00</td>
                                            <td>入职培训, 新人破冰</td>
                                            <td>Admin</td>
                                            <td>
                                                <span class="gray-light" style="display:none">未发布</span>
                                                <!-- 开发注意询问产品此处链接的权限 -->
                                                <a href="./course-publish.html">发布</a>
                                                <a href="./course-edit.html">编辑</a>
                                                <a href="###" data-toggle='modal' data-target='#dialog-deleteconfirm'>删除</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><a href="###" data-toggle="modal" data-target="#course-detail-preview">课程名称</a></td>
                                            <td>张三</td>
                                            <td>图片</td>
                                            <td>2015-1-1 23:00:00</td>
                                            <td>入职培训, 新人破冰</td>
                                            <td>Admin</td>
                                            <td>
                                                <span class="gray-light">已发布</span>
                                                <a href="./course-edit.html">编辑</a>
                                                <a href="###" data-toggle='modal' data-target='#dialog-deleteconfirm'>删除</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- /.table-responsive -->
                        </div>
                    </div>
                </div>          
            </form>
            </div>
            </div>
        </div>
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- delete confirm -->
    <div class="modal fade" id="dialog-deleteconfirm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="myModalLabel">确定删除此课程？</h4>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button>
          </div>
        </div>
      </div>
    </div>

    <!-- foot-js inc/foot-js.html -->
    @@include('inc/foot-js.html')
    <!-- /foot-js -->

    <!-- Preview -->
    <div class="modal fade" id="course-detail-preview" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog" style="width:352px">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title" id="myModalLabel">课程预览</h4>
          </div>
          <div class="modal-body">
            <div class="course_editor clearfix">
                <div class="course_editor_c1">
                    <div class="course_info_preview">
                        <div class="info_cover">
                            <i class="placetxt">封面图片</i>
                            <!-- 上传后异步更改img的src -->
                            <img id="info_cover_img" src="http://www.lorempixel.com/290/160/" alt="" />
                            <div class="info_desc">Course Name</div>
                        </div>
                        <div class="section_list">
                            <ul class="clearfix">
                                <!-- role自增长 -->
                                <li class="item" role="1">
                                    <div class="section_txt"><span class="txt">Section 1</span></div>
                                </li>
                                <li class="item" role="2">
                                    <div class="section_txt"><span class="txt">Section 2</span></div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Page-Level Demo Scripts - Tables - Use for reference -->
    <script>
    $(document).ready(function() {

        $(":file").filestyle({buttonName: "btn-primary"});

        $('#dataTables-course').dataTable({
            'ordering' : false,
            'info' : false,
            'oLanguage' : {
                'sLengthMenu' : '每页显示 _MENU_ 条记录',
                'sZeroRecord' : '抱歉，没有找到',
                'sInfo' : '从_START_到_END_/共_TOTAL_条数据',
                'sInfoEmpty' : '没有数据',
                'sInfoFiltered' : '(从_MAX_条数据中检索)',
                'oPaginate' : {
                    'sFirst' : '首页',
                    'sPrevious' : '前一页',
                    'sNext' : '后一页',
                    'sLast' : '尾页'
                },
                'sZeroRecords' : '没有检索到数据'
            },
            'dom' : 'rt<"bottom"flp>',

            initComplete: function () {
     
                $('#data-select-time,#data-select-cate,#data-select-status').on('change',function(){

                    $('#dataTables-course').DataTable().column('.' + $(this).attr('id')).search(this.value).draw();

                });
            }

        });

        var table = $('#dataTables-course').DataTable();
        //var nameCol = table.column(colIdx);
        //alert(table.columns().colIdx);
        $('#dt-sch-btn').on('click',function(){
            // table.column('.name').search(this.value).draw();
            var name = $('#dt-sch-name').val();
            table.search(name).draw();
        });
    });
    </script>

<!-- footer inc/footer.html -->
@@include('inc/footer.html')
<!-- /footer -->