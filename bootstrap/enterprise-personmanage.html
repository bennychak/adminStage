<!-- header inc/header.html -->
@@include('inc/header.html')
<!-- /header -->

<style>
#dataTables-person_filter,
#dataTables-person_length{ display:none}
#dataTables-person tr td:last-child{ white-space:nowrap;}
</style>

</head>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">

            <div class="navbar-inner">

            <!-- top inc/top.html -->
            @@include('inc/top.html')
            <!-- /top -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">

                <!-- nav inc/nav.html -->
                @@include('inc/nav.html')
                <!-- /nav -->

                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->

            </div>
            
        </nav>

        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="page-wrapper-inner">
            <div class="row">
                <div class="col-xs-12">
                    <h1 class="page-header tx_yh">人员管理</h1>
                </div>
                <!-- /.col-xs-12 -->
            </div>
            <!-- /.row -->
            <div class="panel panel-default">
            <div class="panel-body">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#person-import" data-toggle="tab">导入人员</a></li>
                <li><a href="#person-add" data-toggle="tab">添加人员</a></li>
                <li><a href="#person-expert" data-toggle="tab">快速设定专家</a></li>
            </ul>
            <div class="tab-content mt10">
                <div class="tab-pane fade active in" id="person-import">
                    <form role="form" action="">
                        <div class="form-inline">
                        <div class="row">
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <p class="help-block">将您的信息填入表单后上传。<span class="brand-warning">填写时请勿修改、挪动表单内项目，请勿修改文件名。</span></p>
                                </div>
                            </div>
                            <div class="col-xs-12">
                                <div class="form-group">
                                    <input type="button" class="btn btn-default" value="模板下载" />
                                </div>
                                <div class="form-group">
                                    <input type="file" value="文件上传" />
                                </div>
                            </div>
                        </div>
                        </div>
                    </form>
                </div>
                <div class="tab-pane fade" id="person-add">
                    <form role="form" class="form-personAdd" action="">
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>姓名<span class="brand-warning">*</span></label>
                                    <input type="text" name="personName" class="form-control" />
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>工号<span class="brand-warning">*</span></label>
                                    <input type="text" name="personWorkid" class="form-control" />
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>职务<span class="brand-warning">*</span></label>
                                    <select id="" name="personTitle" class="form-control">
                                        <option value="">选择职务</option>
                                        <option value="CEO">CEO</option>
                                        <option value="运维工程师">运维工程师</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>所属部门<span class="brand-warning">*</span></label>
                                    <select id="" name="personDp" class="form-control">
                                        <option value="">选择部门</option>
                                        <option value="总办">总办</option>
                                        <option value="多媒体事业部">多媒体事业部</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>手机号码<span class="brand-warning">*</span></label>
                                    <input type="text" name="personPhone" class="form-control" maxlength="11" />
                                </div>
                            </div>
                            <div class="col-xs-3">
                                <div class="form-group">
                                    <label>职级<span class="brand-warning">*</span></label>
                                    <select id="" name="personLevel" class="form-control">
                                        <option value="">选择职级</option>
                                        <option value="T3">T3</option>
                                        <option value="T2">T2</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <input disabled="disabled" type="submit" class="btn btn-primary" value="添加" />
                            </div>
                        </div>
                    </form>
                </div>
                <div class="tab-pane fade" id="person-expert">
                    <div class="alert alert-warning">
                          设置专家会有效帮助您的员工更快的找到帮TA解决问题的人。被设定为专家的员工会被优先推荐给有问题的员工  
                    </div>

                    <!-- 已有职级数据 -->
                    <form action="#" role="form">
                        <h4>勾选职级快速设定专家</h4>
                        <div id="expertEdit" class="form-group row">
                            <div class="col-xs-2">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="" /> T5 
                                </label>
                            </div>
                            <div class="col-xs-2">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="" /> T4 
                                </label>
                            </div>
                            <div class="col-xs-2">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="" /> T3 
                                </label>
                            </div>
                            <div class="col-xs-2">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="" /> T2 
                                </label>
                            </div>
                            <div class="col-xs-2">
                                <label class="checkbox-inline">
                                    <input type="checkbox" name="" /> T1 
                                </label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button disabled="disabled" type="submit" class="btn btn-primary">设为专家</button>
                            </div>
                        </div>
                    </form>
                    <!-- /已有职级数据 -->

                    <!-- 还没有职级数据 -->
                    <div class="well">
                        没有职级信息，请先<a href="title-manage.html">添加职级</a>
                    </div>

                    <div class="row">
                        <div class="form-group col-xs-12">
                            <button type="submit" disabled="disabled" class="btn btn-primary">设为专家</button>
                        </div>
                    </div>
                    <!-- /还没有职级数据 -->
                    
                    <div id="expertView" class="form-group row">
                        <div class="col-xs-2">T5</div>
                        <div class="col-xs-2">T4</div>
                    </div>

                    <div class="row">
                        <div class="form-group col-xs-12">
                            <button type="button" class="btn btn-primary">编辑专家</button>
                        </div>
                    </div>

                </div>
            </div>
            </div>
            </div>
            <div class="panel panel-default">
            <div class="panel-body">
            <form role="form" action="">
                <div class="form-inline">
                    <div class="row">
                        <div class="col-xs-3">
                            <div class="form-group">
                                <input class="btn btn-default" type="button" value="导出" />
                            </div>
                        </div>
                        <div class="col-xs-9 tx_r">
                            <div class="form-group">
                                <select name="kind" id="data-select-expert" class="form-control">
                                    <option value="">全部</option>
                                    <option value="取消专家">只看专家</option>
                                    <option value="设为专家">只看非专家</option>
                                </select>
                                <select name="kind" id="data-select-job" class="form-control">
                                    <option value="">职务</option>
                                    <option value="CEO">CEO</option>
                                    <option value="运维工程师">运维工程师</option>
                                </select>
                                <select name="kind" id="data-select-department" class="form-control">
                                    <option value="">部门</option>
                                    <option value="在线视频部">在线视频部</option>
                                    <option value="多媒体事业部">多媒体事业部</option>
                                </select>
                                <input id="dt-sch-name" type="text" placeholder="关键字" class="form-control"/>
                            </div>
                            <button id="dt-sch-btn" type="button" class="btn btn-default">查找</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-person">
                                    <thead>
                                        <tr>
                                            <th><input type="checkbox" name="table-item" /></th>
                                            <th class="workId">工号<span class="brand-warning">*</span></th>
                                            <th class="name">姓名<span class="brand-warning">*</span></th>
                                            <th class="sex">性别</th>
                                            <th class="data-select-job">职务</th>
                                            <th>职级</th>
                                            <th class="data-select-department">部门</th>
                                            <th>手机号码<span class="brand-warning">*</span></th>
                                            <th>座机</th>
                                            <th>E-mail</th>
                                            <th class="data-select-expert">专家</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="checkbox" name="table-item" /></td>
                                            <td>123</td>
                                            <td>张三</td>
                                            <td>男</td>
                                            <td>运维工程师</td>
                                            <td>T3</td>
                                            <td>多媒体事业部</td>
                                            <td>13009876543, 13009876545</td>
                                            <td>010-98473827</td>
                                            <td>index.aspx@163.com</td>
                                            <td>
                                                <a href="###">设为专家</a>
                                            </td>
                                            <td>
                                                <a href="###">编辑</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" name="table-item" /></td>
                                            <td>123</td>
                                            <td>张三</td>
                                            <td>男</td>
                                            <td>运维工程师</td>
                                            <td>T3</td>
                                            <td>多媒体事业部</td>
                                            <td>13009876543, 13009876545</td>
                                            <td>010-98473827</td>
                                            <td>index.aspx@163.com</td>
                                            <td>
                                                <a href="###">设为专家</a>
                                            </td>
                                            <td>
                                                <a href="###">编辑</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" name="table-item" /></td>
                                            <td>123</td>
                                            <td>张三</td>
                                            <td>男</td>
                                            <td>CEO</td>
                                            <td>T3</td>
                                            <td>多媒体事业部</td>
                                            <td>13009876543, 13009876545</td>
                                            <td>010-98473827</td>
                                            <td>index.aspx@163.com</td>
                                            <td>
                                                <a href="###">取消专家</a>
                                            </td>
                                            <td>
                                                <a href="###">编辑</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" name="table-item" /></td>
                                            <td>123</td>
                                            <td>张三</td>
                                            <td>男</td>
                                            <td>运维工程师</td>
                                            <td>T3</td>
                                            <td>在线视频部</td>
                                            <td>13009876543, 13009876545</td>
                                            <td>010-98473827</td>
                                            <td>index.aspx@163.com</td>
                                            <td>
                                                <a href="###">设为专家</a>
                                            </td>
                                            <td>
                                                <a href="###">编辑</a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="checkbox" name="table-item" /></td>
                                            <td>123</td>
                                            <td>张三</td>
                                            <td>男</td>
                                            <td>运维工程师</td>
                                            <td>T3</td>
                                            <td>多媒体事业部</td>
                                            <td>13009876543, 13009876545</td>
                                            <td>010-98473827</td>
                                            <td>index.aspx@163.com</td>
                                            <td>
                                                <a href="###">设为专家</a>
                                            </td>
                                            <td>
                                                <a href="###">编辑</a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div>
                                    <button type="submit" class="btn btn-primary">删除</button>
                                </div>
                            </div>
                            <!-- /.table-responsive -->
                        </div>
                    </div>
                </div>          
            </form>
            </div>
            </div>
        </div>
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- foot-js inc/foot-js.html -->
    @@include('inc/foot-js.html')
    <!-- /foot-js -->

    <!-- Page-Level Demo Scripts - Tables - Use for reference -->
    <script>
    $(document).ready(function() {

        $(":file").filestyle({buttonName: "btn-primary"});

        $('.form-personAdd').bootstrapValidator({
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                personName: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请输入姓名</span>'
                        }
                    }
                },
                personWorkid: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请输入工号</span>'
                        }
                    }
                },
                personTitle: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请选择职务</span>'
                        }
                    }
                },
                personDp: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请选择所属部门</span>'
                        }
                    }
                },
                personPhone: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请输入手机号码</span>'
                        }
                    }
                },
                personLevel: {
                    validators: {
                        notEmpty: {
                            message : '<span class="brand-warning">请选择职级</span>'
                        }
                    }
                }
            }
        });

        $('#dataTables-person').dataTable({
            'ordering' : false,
            'info' : false,
            'oLanguage' : {
                'sLengthMenu' : '每页显示 _MENU_ 条记录',
                'sZeroRecord' : '抱歉，没有找到',
                'sInfo' : '从_START_到_END_/共_TOTAL_条数据',
                'sInfoEmpty' : '没有数据',
                'sInfoFiltered' : '(从_MAX_条数据中检索)',
                'oPaginate' : {
                    'sFirst' : '首页',
                    'sPrevious' : '前一页',
                    'sNext' : '后一页',
                    'sLast' : '尾页'
                },
                'sZeroRecords' : '没有检索到数据'
            },
            'dom' : 'rt<"bottom"flp>',

            initComplete: function () {
     
                $('#data-select-department,#data-select-job,#data-select-expert').on('change',function(){

                    $('#dataTables-person').DataTable().column('.' + $(this).attr('id')).search(this.value).draw();

                });
            }

        });

        var table = $('#dataTables-person').DataTable();
        //var nameCol = table.column(colIdx);
        //alert(table.columns().colIdx);
        $('#dt-sch-btn').on('click',function(){
            // table.column('.name').search(this.value).draw();
            var name = $('#dt-sch-name').val();
            table.search(name).draw();
        });
    });
    </script>

<!-- footer inc/footer.html -->
@@include('inc/footer.html')
<!-- /footer -->